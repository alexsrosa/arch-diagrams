@startuml
left to right direction
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml
skinparam nodesep 10
skinparam ranksep 10

TITLE Order Service with Primaryâ€“Replica Database

Person(user, "User", "Places orders via web interface")

System_Boundary(order_system, "Order Processing System") {
  Container(order_service, "Order Service", "Spring Boot", "Handles order processing")

  ContainerDb(order_db_primary, "Order Database (Primary)", "PostgreSQL", "Master node for reads & writes")
  ContainerDb(order_db_replica, "Order Database (Replica)", "PostgreSQL", "Read-only replica")
}

Rel(user, order_service, "Places orders", "HTTP/JSON")
Rel(order_service, order_db_primary, "Reads/Writes", "JDBC/SQL")
Rel(order_service, order_db_replica, "Reads", "JDBC/SQL")
Rel(order_db_primary, order_db_replica, "Streams replication to", "PostgreSQL streaming")
@enduml
